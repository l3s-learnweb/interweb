<ui:composition template="/WEB-INF/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="content">
        <h:form enctype="multipart/form-data">
            <h:panelGrid columns="3" columnClasses="top,top,top">
                <h:panelGroup>
                    <h:panelGroup layout="block" styleClass="iw-panel">
                        <h:panelGroup layout="block" styleClass="iw-panel-header">
                            <h:outputText value="Media types"/>
                        </h:panelGroup>
                        <h:panelGroup layout="block" styleClass="iw-panel-content">
                            <h:selectOneRadio value="#{uploadBean.selectedContentType}" layout="pageDirection">
                                <f:selectItems value="#{uploadBean.contentTypes}"/>
                                <f:ajax event="change" render="connectors"/>
                                <f:ajax event="change" render="data"/>
                            </h:selectOneRadio>
                        </h:panelGroup>
                    </h:panelGroup>
                    <br/>
                    <h:panelGroup layout="block" styleClass="iw-panel">
                        <h:panelGroup layout="block" styleClass="iw-panel-header">
                            <h:outputText value="Supported connectors"/>
                        </h:panelGroup>
                        <h:panelGroup layout="block" styleClass="iw-panel-content">
                            <h:selectManyCheckbox value="#{uploadBean.selectedConnectors}" layout="pageDirection"/>
                        </h:panelGroup>
                    </h:panelGroup>
                </h:panelGroup>

                <h:panelGroup layout="block" styleClass="iw-panel">
                    <h:panelGroup layout="block" styleClass="iw-panel-header">
                        <h:outputText value="Upload metadata info"/>
                    </h:panelGroup>
                    <h:panelGroup layout="block" styleClass="iw-panel-content">
                        <h:outputLabel for="title" value="Title: "/>&#160;&#160;&#160;
                        <h:inputText id="title" label="title" value="#{uploadBean.title}" size="37"/>
                        <br/>
                        <br/>
                        <h:outputLabel for="description" value="Description: "/>
                        <br/>
                        <h:inputTextarea id="description" label="description" value="#{uploadBean.description}" cols="40" rows="8"/>
                        <br/>
                        <br/>
                        <h:outputLabel for="tags" value="Tags: "/>&#160;&#160;
                        <h:inputText id="tags" label="tags" value="#{uploadBean.tags}" size="37"/>
                        <br/>
                        <br/>
                        <h:selectBooleanCheckbox label="public" id="privacy" value="#{uploadBean.publicAccess}"/>
                        <h:outputLabel for="privacy" value="Public access"/>
                    </h:panelGroup>
                </h:panelGroup>

                <h:panelGroup id="data">
                    <h:panelGroup rendered="#{uploadBean.fileUpload}">
                        <h:inputFile id="upload" value="#{uploadBean.uploadedFile}" label="Select file"/>
                        <h:commandButton value="Upload" type="submit" action="#{uploadBean.upload}"/>
                    </h:panelGroup>

                    <h:panelGroup layout="block" styleClass="iw-panel" rendered="#{!uploadBean.fileUpload}">
                        <h:panelGroup layout="block" styleClass="iw-panel-header">
                            <h:outputText value="Text or URL"/>
                        </h:panelGroup>
                        <h:panelGroup layout="block" styleClass="iw-panel-content">
                            <h:inputTextarea id="text" label="text data" value="#{uploadBean.text}" cols="40" rows="8"/>
                            <br/>
                            <br/>
                            <h:commandButton action="#{uploadBean.uploadText}" value="Upload" id="upload_button"/>
                        </h:panelGroup>
                    </h:panelGroup>
                </h:panelGroup>
            </h:panelGrid>
        </h:form>
    </ui:define>

</ui:composition>
