<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>InterWebJ</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" media="screen" href="#{request.contextPath}/css/main.css" />
</h:head>
<body>
    <div id="topnav">
        <h:form>
            <ul>
                <li>
                    <h:outputLink value="#{request.contextPath}/view/index.xhtml">
                        <h:outputText value="Home" />
                    </h:outputLink>
                </li>
                <li>
                    <h:outputLink value="#{request.contextPath}/view/api.xhtml">
                        <h:outputText value="API Docs" />
                    </h:outputLink>
                </li>
                <ui:fragment rendered="#{!sessionBean.loggedIn}">
                    <li>
                        <h:outputLink value="#{request.contextPath}/view/register.xhtml">
                            <h:outputText value="Register" />
                        </h:outputLink>
                    </li>
                    <li>
                        <h:outputLink value="#{request.contextPath}/view/login.xhtml" >
                            <h:outputText value="Login" />
                        </h:outputLink>
                    </li>
                </ui:fragment>
                <ui:fragment rendered="#{sessionBean.loggedIn}">
                    <li>
                        <h:commandLink action="#{sessionBean.logout()}" value="Logout"/>
                    </li>
                    <!--<li>
                        <h:outputLink value="#{request.contextPath}/view/profile.xhtml">
                            <h:outputText value="Profile: #{sessionBean.principal.name}" />
                        </h:outputLink>
                    </li>-->
                </ui:fragment>
            </ul>
        </h:form>
    </div>
    <div id="header">
        <h3>InterWebJ</h3>

        <div id="menu">
            <h:form>
                <ul>
                    <li>
                        <h:outputLink value="#{request.contextPath}/view/search.xhtml">
                            <h:outputText value="Search" />
                        </h:outputLink>
                    </li>
                    <ui:fragment rendered="#{sessionBean.loggedIn}">
                        <li>
                            <h:outputLink value="#{request.contextPath}/view/upload.xhtml">
                                <h:outputText value="Upload" />
                            </h:outputLink>
                        </li>
                        <li>
                            <h:outputLink value="#{request.contextPath}/view/consumers.xhtml">
                                <h:outputText value="Apps" />
                            </h:outputLink>
                        </li>
                        <li>
                            <h:outputLink value="#{request.contextPath}/view/services.xhtml">
                                <h:outputText value="Services" />
                            </h:outputLink>
                        </li>
                    </ui:fragment>
                    <ui:fragment rendered="#{sessionBean.hasRole('manager')}">
                        <li>
                            <h:outputLink value="#{request.contextPath}/view/admin/register_services.xhtml" styleClass="admin_menu_item">
                                <h:outputText value="WS Registration" />
                            </h:outputLink>
                        </li>
                    </ui:fragment>
                </ul>
            </h:form>
        </div>
    </div>
    <div id="content">
        <h:messages showSummary="true" showDetail="false" styleClass="error"/>
        <ui:insert name="content"/>
    </div>
    <div id="footer">
        <p>
            <a href="#">About</a> | <a href="#">Terms of Service</a> | <a href="#">Privacy Statement</a>
        </p>
    </div>
</body>
</html>
