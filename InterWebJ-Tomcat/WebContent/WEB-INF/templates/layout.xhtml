<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsf/core">
<h:head>
	<title>InterWebJ</title>
	<link rel="stylesheet" type="text/css" media="screen"
		href="#{interwebj.contextPath}/css/main.css" />
</h:head>
<body>
	<div id="topnav">
		<h:form>
			<ul>
				<li><h:outputLink
						value="#{interwebj.contextPath}/view/login.xhtml"
						rendered="#{!principalBean.loggedIn}">
						<h:outputText value="Login" />
					</h:outputLink></li>
				<li><h:outputLink
						value="#{interwebj.contextPath}/view/register.xhtml"
						rendered="#{!principalBean.loggedIn}">
						<h:outputText value="Register" />
					</h:outputLink></li>
				<li><h:commandLink action="#{principalBean.logout()}"
						value="Logout" rendered="#{principalBean.loggedIn}" /></li>
				<!--li><h:outputLink
			value="#{interwebj.contextPath}/view/profile.xhtml"
			rendered="#{principalBean.loggedIn}">
			<h:outputText value="Profile: #{sessionBean.principal.name}" />
		</h:outputLink></li-->
				<li><h:outputLink
						value="#{interwebj.contextPath}/view/api.xhtml">
						<h:outputText value="API Docs" />
					</h:outputLink></li>
				<li id="skip"><h:outputLink
						value="#{interwebj.contextPath}/view/index.xhtml">
						<h:outputText value="Home" />
					</h:outputLink></li>
			</ul>
		</h:form>
	</div>
	<div id="header">
		<span>InterWebJ</span>
		<div id="menu">
			<h:form>
				<ul>
					<li><h:outputLink
							value="#{interwebj.contextPath}/view/search.xhtml">
							<h:outputText value="Search" />
						</h:outputLink></li>
					<h:panelGroup rendered="#{principalBean.loggedIn}">
						<li><h:outputLink
								value="#{interwebj.contextPath}/view/upload.xhtml">
								<h:outputText value="Upload" />
							</h:outputLink></li>
					</h:panelGroup>
					<h:panelGroup rendered="#{principalBean.loggedIn}">
						<li><h:outputLink
								value="#{interwebj.contextPath}/view/consumers.xhtml">
								<h:outputText value="Apps" />
							</h:outputLink></li>
					</h:panelGroup>
					<h:panelGroup rendered="#{principalBean.loggedIn}">
						<li><h:outputLink
								value="#{interwebj.contextPath}/view/services.xhtml">
								<h:outputText value="Services" />
							</h:outputLink></li>
					</h:panelGroup>
					<ui:fragment rendered="#{principalBean.hasRole('manager')}">
						<li id="admin_menu_item"><h:outputLink
								value="#{interwebj.contextPath}/view/admin/register_services.xhtml">
								<h:outputText value="WS Registration" />
							</h:outputLink></li>
					</ui:fragment>
				</ul>
			</h:form>
		</div>
	</div>
	<div id="content">
		<p>
			<h:messages showSummary="true" showDetail="false" styleClass="error" />
		</p>
		<ui:insert name="content">
		</ui:insert>
	</div>
	<div id="footer">
		<p>
			<a href="#">About</a> | <a href="#">Terms of Service</a> | <a
				href="#">Privacy Statement</a>
		</p>
	</div>
</body>
</html>