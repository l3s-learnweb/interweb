<ui:composition template="/WEB-INF/templates/layout.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="content">
		<h:panelGroup rendered="#{servicesBean.awaitingConnectorWrappers.size() == 0}">
			There are no awaiting authorization connectors
		</h:panelGroup>
		<h:panelGroup rendered="#{servicesBean.awaitingConnectorWrappers.size() > 0}">
			The list of awaiting authorization connectors:
			<h:form>
				<h:dataTable var="connectorWrapper"
					value="#{servicesBean.awaitingConnectorWrappers}" cellpadding="10">
					<h:column>
						<img src="#{connectorWrapper.connector.baseUrl}/favicon.ico" alt="#{connectorWrapper.connector.name}}"
							 style="vertical-align: middle; margin: 3px;"/>
					</h:column>
					<h:column>
						<h:outputLink value="#{connectorWrapper.connector.baseUrl}" style="margin: 3px 10px;" target="_blank">
							#{connectorWrapper.connector.name}
						</h:outputLink>
					</h:column>
					<h:column>
						<h:panelGrid columns="2" cellpadding="0" cellspacing="0" style="font-size: 0.8em; color:#5C5C5C;">
							<h:outputLabel value="Key:" style="margin-right:5px" />
							<h:inputText id="key" label="key" value="#{connectorWrapper.key}" style="margin-bottom:5px" />
							<h:outputLabel value="Secret:" style="margin-right:5px" />
							<h:inputText id="secret" label="secret" value="#{connectorWrapper.secret}" />
						</h:panelGrid>
					</h:column>
					<h:column>
						<h:commandButton value="Save" action="#{servicesBean.save(connectorWrapper)}" />
					</h:column>
				</h:dataTable>
			</h:form>
		</h:panelGroup>
    </ui:define>

</ui:composition>
