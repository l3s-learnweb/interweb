<ui:composition template="/WEB-INF/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="content">
        <h:outputLabel value="Services with OAuth support:" />
        <h:form>
            <h:dataTable value="#{registerServicesBean.connectorWrappers}"
                var="connectorWrapper" cellpadding="10">
                <h:column>
                    <img src="#{connectorWrapper.connector.baseUrl}/favicon.ico"
                        style="vertical-align: middle; margin: 3px;" />
                </h:column>
                <h:column>
                    <h:outputLink value="#{connectorWrapper.connector.baseUrl}"
                        style="margin-right: 10px;">
                        <h:outputLabel value="#{connectorWrapper.connector.name}" />
                    </h:outputLink>
                </h:column>
                <h:column>
                    <h:panelGrid columns="2" cellpadding="0" cellspacing="0"
                        style="font-size: 0.8em; color:#5C5C5C;">
                        <h:outputLabel value="Key:" style="margin-right:5px" />
                        <h:outputLabel
                            value="#{connectorWrapper.connector.authCredentials.key}"
                            rendered="#{registerServicesBean.isRegistered(connectorWrapper)}" />
                        <h:inputText id="key" label="key" value="#{connectorWrapper.key}"
                            rendered="${!registerServicesBean.isRegistered(connectorWrapper)}"
                            style="margin-bottom:5px" />
                        <h:outputLabel value="Secret:" style="margin-right:5px" />
                        <h:outputLabel
                            value="#{connectorWrapper.connector.authCredentials.secret}"
                            rendered="#{registerServicesBean.isRegistered(connectorWrapper)}" />
                        <h:inputText id="secret" label="secret"
                            value="#{connectorWrapper.secret}"
                            rendered="${not registerServicesBean.isRegistered(connectorWrapper)}" />
                    </h:panelGrid>
                </h:column>
                <h:column>
                    <h:commandButton
                        action="#{registerServicesBean.unregister(connectorWrapper)}"
                        value="Unregister"
                        rendered="#{registerServicesBean.isRegistered(connectorWrapper)}"
                        style="margin-left:10px" />
                    <h:commandButton
                        action="#{registerServicesBean.register(connectorWrapper)}"
                        value="Register"
                        rendered="${!registerServicesBean.isRegistered(connectorWrapper)}"
                        style="margin-left:10px" />
                </h:column>
            </h:dataTable>
        </h:form>
    </ui:define>

</ui:composition>
